import{h as y}from"./request-D85rebqp.js";import{P as w}from"./index-kk8ZeESb.js";import{_ as x,r as d,f as a,c as b,g as C,b as l,a as n,w as o,I as r,e as k,E as T}from"./index-BEaTRiqt.js";const V={class:"deploy-page"},E={class:"main-content"},F={class:"section-header"},I={class:"upload-content"},N={class:"upload-tip"},R={class:"section-header"},B={class:"result-content"},D={__name:"index",setup(U){const i=d(""),u=d(),m=s=>{const e=new FormData;e.append("file",s.file),y({method:"post",url:s.action,headers:{"Content-Type":"multipart/form-data"},data:e}).then(function(t){i.value=_(t.data)}).finally(function(){u.value.clearFiles()})},f=()=>{T.warning("上传文件数量超出限制")},_=s=>{let e="";if(s.services&&s.services.length>0){e+="服务列表,共"+s.services.length+`条
`;for(let t of s.services)e+="	"+p(t)+"	"+t.category+"	"+t.key+"	"+t.name+"		"+t.implClass+`
`}else e+=`没有部署服务
`;if(s.agentTemplates&&s.agentTemplates.length>0){e+="智能体模板列表,共"+s.agentTemplates.length+`条
`;for(let t of s.agentTemplates)e+="	"+p(t)+"	"+t.key+"	"+t.name+"	"+t.description+"	"+t.implClass+`
`}else e+=`没有部署智能体模板
`;if(s.plugins&&s.plugins.length>0){e+="插件列表,共"+s.plugins.length+`条
`;for(let t of s.plugins)e+="	"+p(t)+"	"+t.key+"	"+t.name+"	"+t.serviceClass+"	"+t.implClass+`
`}else e+=`没有部署插件
`;if(s.throwables&&s.throwables.length>0){e+="异常列表,共"+s.throwables.length+`条
`;for(let t of s.throwables)e+=t+`
`}else e+=`没有异常
`;return e},p=s=>{const e=s.status;return e=="new"?"[新增]":e=="replace"?"[替换]":e=="ignore"?"[忽略]":e=="suppress"?"[禁用]":"[]"};return(s,e)=>{const t=a("el-button"),g=a("el-upload"),c=a("el-card"),h=a("el-input");return C(),b("div",V,[l(w,{title:"部署管理",icon:"upload"}),n("div",E,[l(c,{class:"upload-section"},{header:o(()=>[n("div",F,[l(r,{name:"mdiUpload"}),e[1]||(e[1]=n("span",null,"文件部署",-1))])]),default:o(()=>[n("div",I,[n("div",N,[l(r,{name:"mdiInformation"}),e[2]||(e[2]=n("span",null,"请选择要部署的文件",-1))]),l(g,{ref_key:"uploadRef",ref:u,action:"/deploy/doDeploy","http-request":m,multiple:!1,"show-file-list":!1,limit:1,"on-exceed":f,class:"upload-component"},{default:o(()=>[l(t,{type:"primary",size:"large"},{default:o(()=>[l(r,{name:"mdiUpload"}),e[3]||(e[3]=k(" 点击上传部署 ",-1))]),_:1})]),_:1},512)])]),_:1}),l(c,{class:"result-section"},{header:o(()=>[n("div",R,[l(r,{name:"mdiFileDocument"}),e[4]||(e[4]=n("span",null,"部署结果",-1))])]),default:o(()=>[n("div",B,[l(h,{type:"textarea",rows:20,placeholder:"部署结果将在此处显示...",modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=v=>i.value=v),readonly:"",class:"result-textarea"},null,8,["modelValue"])])]),_:1})])])}}},H=x(D,[["__scopeId","data-v-a596b00f"]]);export{H as default};
